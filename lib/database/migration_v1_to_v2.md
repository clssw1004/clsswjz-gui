# 数据库迁移：版本1到版本2

## 迁移概述
- **从版本**: 1
- **到版本**: 2
- **迁移日期**: 2024年
- **迁移内容**: 为笔记表添加分组字段

## 变更详情

### 表结构变更
**表名**: `account_note_table`

**新增字段**:
- `groupCode` (TEXT, NULLABLE)
  - 描述: 笔记分组代码
  - 默认值: NULL
  - 用途: 用于对笔记进行分组管理

### 迁移逻辑
1. 为 `account_note_table` 表添加 `groupCode` 字段
2. 新字段允许为 NULL，现有记录将自动设置为 NULL
3. 应用层会为现有记录设置默认值 'none'

## 影响范围
- 笔记创建和编辑功能
- 笔记列表显示
- 笔记分组管理功能

## 回滚方案
如果需要回滚，可以：
1. 将 schemaVersion 改回 1
2. 删除 `groupCode` 字段（需要手动执行 SQL）

## 注意事项
- 迁移是向后兼容的
- 现有笔记数据不会丢失
- 新字段为可选字段，不会影响现有功能 